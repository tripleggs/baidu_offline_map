/**/_jsload2&&_jsload2('poly', 'function Wg(a,b){hb.call(this);this.point=a;this.type=b;this.z={}}x.lang.ua(Wg,hb,"Vertex"); x.extend(Wg.prototype,{initialize:function(a){this.map=a;var b="";this.point=Ya(this.point,this.map);var b=this.type?"BMap_vectex BMap_vectex_nodeT":"BMap_vectex BMap_vectex_node",c=this.wH=this.V=document.createElement("div");c.className=b;a.Rf().fP.appendChild(c);this.KA();return c},draw:function(){var a=this.map.We(this.point);this.wH.style.left=a.x-5+"px";this.wH.style.top=a.y-5+"px"},ta:function(a){if(a instanceof N||a instanceof H)this.point=this.z.point=Ya(a,this.map),this.draw()},bo:v("point"), ha:function(){return eb(this.point,this.map)},KA:function(){function a(a,b){b.pixel=b.Wa=a.Wa;b.point=b.point=a.point;b.pointN=b.Ag=a.Ag;return b}function b(a){var b=a.clientX,c=a.clientY;a.changedTouches&&(b=a.changedTouches[0].clientX,c=a.changedTouches[0].clientY);return new S(b,c)}if(this.V&&!this.V.Oi){this.V.Oi=o;var c=this.map,d=this,e=0,f=0,g=0,i={x:0,y:0};this.Ms=function(a){oa(a);if(2!=a.button){d.vl=o;var i=c.Cc(d.point),m=b(a);e=m.x-i.x;f=m.y-i.y;g=bb();d.map.R.lv=d;x.M(document,"mousemove", d.nj);x.M(document,"mouseup",d.mj);x.M(document,"touchmove",d.nj);x.M(document,"touchend",d.mj);d.V&&d.V.setCapture&&d.V.setCapture();d.V.style.cursor=d.z.Gd;"touchstart"==a.type&&na(a)}};this.nj=function(g){if(d.vl){g=b(g);i=g=new S(g.x-e,g.y-f);d.iA=g;var l=d.map.zg(g),m=d.map.Rb(g),m={Wa:g,point:l,Ag:m};d.Il=d.Jl=0;if(20>=g.x||g.x>=d.map.width-20||50>=g.y||g.y>=d.map.height-10){if(20>=g.x?d.Il=8:g.x>=d.map.width-20&&(d.Il=-8),50>=g.y?d.Jl=8:g.y>=d.map.height-10&&(d.Jl=-8),!d.He)d.He=setInterval(function(){c.yg(d.Il, d.Jl,{noAnimation:o});var a=c.Rb(d.iA);d.ta(a)},30)}else d.He&&(clearInterval(d.He),d.He=p),d.ta(l);d.nl||(d.dispatchEvent(a(m,new M("ondragstart"))),d.nl=o);d.dispatchEvent(a(m,new M("ondragging")))}};this.mj=function(){d.V&&d.V.releaseCapture&&d.V.releaseCapture();d.vl=q;d.map.R.lv=p;x.cd(document,"mousemove",d.nj);x.cd(document,"mouseup",d.mj);x.cd(document,"touchmove",d.nj);x.cd(document,"touchend",d.mj);e=f=0;d.He&&(clearInterval(d.He),d.He=p);if(100<=bb()-g&&(2<i.x||2<i.y))d.nl=q,d.dispatchEvent(a({Wa:d.map.Kp(d.ha()), point:d.ha(),Ag:d.bo()},new M("ondragend"))),i.x=i.y=0;d.Vl();d.V&&(d.V.style.cursor=d.z.jf?"pointer":"")};x.M(this.V,"mousedown",this.Ms);x.M(this.V,"touchstart",this.Ms)}}});x.extend(bd.prototype,{AQ:function(a){return this.repeat?this.CQ(a):this.BQ(a)},CQ:function(a){var b=this.repeat,c=[],d,e,f;if(this.XI){d=Math.floor(1/this.repeat)+1;for(e=0;e<d;e++)c.push(Xg(a,1-b*e,o))}else{f=a.Zi[a.Zi.length-1];d=Math.floor(f/b)+1;for(e=0;e<d;e++)c.push(Xg(a,f-e*b,q))}return c},BQ:function(a){return[Xg(a,this.ek,this.WI)]},hide:function(){if(this.Vc&&0<this.Vc.length)for(var a=this.Vc.length-1;0<=a;a--)this.Vc[a].U()},show:function(){if(this.Vc&&0<this.Vc.length)for(var a=this.Vc.length- 1;0<=a;a--)this.Vc[a].show()}});function Xg(a,b,c){var d=a.ia;if(c){if(0>=b)return{point:d[0],index:1};if(1<=b)return{point:d[d.length-1],index:d.length-1};c=a.dT*b;b=Yg(c,a.Pl);a=(c-a.Pl[b-1])/(a.Pl[b]-a.Pl[b-1])}else{c=b;b=a.Zi[a.Zi.length-1];if(0>=c)return{point:d[0],index:1};if(c>=b)return{point:d[d.length-1],index:d.length-1};b=Yg(c,a.Zi);a=(c-a.Zi[b-1])/(a.Zi[b]-a.Zi[b-1])}c=d[b-1];d=d[b];return{point:new H(c.lng+(d.lng-c.lng)*a,c.lat+(d.lat-c.lat)*a),index:b}} x.jc.indexOf=function(a,b,c){var d=a.length,c=c|0;for(0>c&&(c=Math.max(0,d+c));c<d;c++)if(c in a&&a[c]===b)return c;return-1};function Yg(a,b){var c=Zg(b.concat(a));return x.jc.indexOf(c,a)}function Zg(a){if(2>a.length)return a;for(var b=Math.floor(a.length/2),c=a.slice(0,b),a=a.slice(b),c=Zg(c),a=Zg(a),b=[];0<c.length&&0<a.length;)c[0]>a[0]?b.push(a.shift()):b.push(c.shift());return b.concat(c).concat(a)};x.extend(Yc.prototype,{initialize:function(a){a&&this.vv&&a.addEventListener("onmousemove",this.vv);a=hb.prototype.initialize.call(this,a);this.z.mf===o&&(this.rk(),this.$l());return a},Mj:function(){this.V=(this.Yn=$g.at(this.map)).Fo()},ca:function(){function a(a,b){var c=a.srcElement||a.target,g=Eb(),i=a.pageX?a.pageX:a.clientX+g[1],g=a.pageY?a.pageY:a.clientY+g[0];if(a&&b&&i&&g&&c){var c=x.lang.Lc(c.ba).map,k=x.K.ha(c.Ua);b.Wa=new S(i-k.left,g-k.top);b.point=c.zg(b.Wa);b.pixel=b.Wa;b.point=b.point; b.pointN=c.Rb(b.Wa)}return b}var b=this.V,c=this;"canvas"!==$g.at(this.map).op()&&!G()&&(c.z.jf&&(b.style.cursor="pointer",x.M(b,"click",function(b){c.DI&&c.DI.ab(c.map.wc())&&c.dispatchEvent(a(b,ma(new M("onclick"),b)))}),x.M(b,"dblclick",function(b){c.dispatchEvent(a(b,ma(new M("ondblclick"),b)))}),(!x.da.Te||4>x.da.Te)&&x.M(this.V,"contextmenu",function(b){c.dispatchEvent(a(b,ma(new M("onrightclick"),b)))})),x.M(b,"mousedown",function(b){c.dispatchEvent(a(b,ma(new M("onmousedown"),b)));c.DI=c.map.wc()}), x.M(b,"mouseup",function(b){c.dispatchEvent(a(b,ma(new M("onmouseup"),b)))}),x.M(this.V,"mouseup",function(b){c.dispatchEvent(a(b,ma(new M("onmouseup"),b)));x.da.Te>=4&&(b.button===2&&c.z.jf)&&c.dispatchEvent(a(b,ma(new M("onrightclick"),b)))}));b=p;this.Oi||(this.Oi=o,this.vv=function(a){if(c.map&&!c.map.R.lv){var b=c.BS(a.point),f=parseFloat(b.Ca),g;if(f<c.z.gN){g=c.Qa.ey?new M("onmousemove"):new M("onmouseover");c.Qa.CM=q;c.Qa.ey=o}else if(!c.Qa.CM&&c.Qa.ey){g=new M("onmouseout");c.Qa.ey=q;c.Qa.CM= o}if(g){if(!(c instanceof pd)&&g.type==="onmousemove"&&c.Qa.ey===o&&(f===0||f>c.z.gN)){g.pixel=g.Wa=a.Wa;g.point=g.point=a.point;g.pointN=g.Ag=Ya(a.point,c.map)}else{g.point=g.point=this.DN(b.Wa);g.pointN=g.Ag=this.ET(b.Wa);g.pixel=g.Wa=this.Kp(g.point)}c.dispatchEvent(g)}}},this.map.addEventListener("onmousemove",this.vv),this.addEventListener("mouseover",t()),this.addEventListener("mouseout",t()))},draw:function(a){this.V&&this.Yn&&("canvas"===this.Yn.Lb&&this.Wv?(this.Wv(),this.Yn.le(this.V,this.jr(this.ia), this.z)):this.Yn.le(this.V,this.jr(this.ia)),this instanceof pd&&this.z.si&&this.DR(a))},xb:function(){this.map&&(this.initialize(this.map),this.V.style.WebkitUserSelect="none",this.draw())},jr:function(a){var b=this.map,c=[],d=b.Id(),e=this.Id();if(!d.yt(e)||0===a.length||!this.V||!this.oh())return[c];this.z.mf||(d=this.Dm(b.ga()),this.gf[d]?a=this.gf[d]:(a=ah(a,this.Bk(b.ga())),a=this.gf[d]=a));d=this.z.m0;c.push(b.We(a[0],p,d));for(var f=e=1,g=a.length;e<g;e++){var i=b.We(a[e],p,d);i.ab(c[f-1])|| (c.push(i),f++)}return[c]},Dm:function(a){return this.z.Dm?this.z.Dm(a):6>a?0:10>a?1:15>a?2:3},Bk:function(a){return this.z.Bk?this.z.Bk(a):Yc.dF[this.Dm(a)]},Ur:function(a){this.gf.length=0;a=Yc.zx(a);this.zo=a.slice(0,a.length-1);this.ia=a.slice(0);this.Jh();this.draw();this.dispatchEvent(new M("onlineupdate"))},le:function(a){this.Ur(a);this.z.mf===o&&(this.rk(),this.$l())},qn:function(a,b){b&&this.ia[a]&&(this.gf.length=0,this.ia[a]=new N(b.lng,b.lat),this.Jh(),this.z.mf===o&&(this.rk(),this.$l()), this.draw(),this.dispatchEvent(new M("onlineupdate")))},setStrokeColor:function(a){this.z&&(this.z.strokeColor=a);this.Rl("strokecolor",a)},aq:function(a){0<a&&(this.z.lc=a,this.Rl("strokeweight",a),"dashed"===this.SL()&&(this.map&&"svg"===$g.at(this.map).op())&&this.Rl("strokestyle","dashed"))},Zp:function(a){a===j||(1<a||0>a)||(this.z.sd=a,this.map&&this.Rl("strokeopacity",a))},$t:function(a){1<a||0>a||(this.z.qg=a,this.Rl("fillopacity",a))},$p:function(a){"solid"!==a&&"dashed"!==a||(this.z.strokeStyle= a,this.Rl("strokestyle",a))},setFillColor:function(a){this.z.fillColor=a||"";this.Rl("fillcolor",a)},Rl:function(a,b){this.Yn&&(this.Yn.setAttribute(this.V,a,b||"",this.TL()),this.dispatchEvent(new M("onlineupdate")))},$l:function(){var a=this;if(!a.mc.length)for(var b=this.YL(),c=function(b){a.Lv(b)},d=t(),e=function(b){a.lB(b)},f=0,g=b.length;f<g;f++){var i=b[f],k=new Wg(i.vb,i.pa);k.addEventListener("ondragging",c);k.addEventListener("ondragstart",d);k.addEventListener("ondragend",e);k.index=f; k.pa=i.pa;this.mc.push(k);this.map&&this.map.Ja(k)}},rk:function(){for(var a;a=this.mc.pop();)this.map.Ub(a);this.mc.length=0},YL:function(){for(var a=[],b=0,c=this.ia.length;b<c;b++){var d=this.ia[b];a.push({vb:d,pa:0});if(b<c-1){var e=this.ia[b+1],d=new N((d.lng+e.lng)/2,(d.lat+e.lat)/2);a.push({vb:d,pa:1})}}return this.Sc=a},q1:t(),lB:function(a){this.Qa.lj&&(this.map.Ub(this.Qa.lj),delete this.Qa.lj);this.Qa.Bi&&(this.map.Ub(this.Qa.Bi),delete this.Qa.Bi);this.Qa.xi&&(this.map.Ub(this.Qa.xi), delete this.Qa.xi);var b=a.Ag,a=a.currentTarget.index,c;if(0!==a%2){this.dA(a);this.Dq(a,b,0);var d=Ya(this.Sc[a-1].vb,this.map);c=Ya(this.Sc[a+1].vb,this.map);d=this.Ys(d,b);c=this.Ys(b,c);this.Dq(a,d,1);this.Dq(a+2,c,1);a=Math.ceil(a/2);c=this.ia.slice();a=c.splice(a,this.ia.length-a);c[c.length]=eb(b,this.map);c=c.concat(a)}else this.Sc[a].vb=b,0<=a-2&&(d=Ya(this.Sc[a-2].vb,this.map),d=this.Ys(d,b),this.mc[a-1].show(),this.mc[a-1].ta(d)),a+2<this.Sc.length&&(c=Ya(this.Sc[a+2].vb,this.map),c=this.Ys(b, c),this.mc[a+1].show(),this.mc[a+1].ta(c)),this instanceof ld&&this.Sc.length-1===a&&(this.dA(0),this.Dq(0,b,0),this.dA(1),this.Dq(1,this.Ys(Ya(this.Sc[0].vb,this.map),Ya(this.Sc[1].vb,this.map)),1),this.mc[0].V.style.zIndex="-10000000"),a/=2,this.ia.splice(a,1,eb(b,this.map)),this instanceof ld&&this.ia.length-1===a&&this.ia.splice(0,1,eb(b,this.map)),c=this.ia;b=0;for(a=this.mc.length;b<a;b++)this.mc[b].index=b;this.ia=c;this.Ur(c)},Dq:function(a,b,c){var d=this;this.Sc.splice(a,0,{vb:b,pa:c}); b=new Wg(b,c);b.addEventListener("ondragging",function(a){d.Lv(a)});b.addEventListener("ondragstart",t());b.addEventListener("ondragend",function(a){d.lB(a)});b.index=a;b.pa=c;this.mc.splice(a,0,b);this.map.Ja(b)},dA:function(a){this.map.Ub(this.mc[a]);this.Sc.splice(a,1);this.mc.splice(a,1)},Ys:function(a,b){return new H((a.lng+b.lng)/2,(a.lat+b.lat)/2)},BS:function(a){var b,c,d,e,f,g,i=[],k=this.map.We(a),i=this.jr(this.ia)[0],l=i.length;if(1<l){for(e=1;e<l;e++){var m=i[e-1],n=i[e];if(m&&n){m.x!== n.x?(f=(n.y-m.y)/(n.x-m.x),f=Math.abs(f*k.x+(n.y-f*n.x)-k.y)/Math.sqrt(f*f+1)):f=Math.abs(k.x-n.x);var s=Math.pow(n.y-m.y,2)+Math.pow(n.x-m.x,2),n=Math.pow(n.y-k.y,2)+Math.pow(n.x-k.x,2),m=Math.pow(m.y-k.y,2)+Math.pow(m.x-k.x,2),u=Math.pow(f,2);n-u+m-u>s&&(f=Math.sqrt(Math.min(n,m)));if(b==p||b>f)c=Math.sqrt(m-u)/Math.sqrt(s),d=Math.sqrt(n-u)/Math.sqrt(s),b=f,g=e;b=Math.min(b,f)}}if(!(this instanceof pd)){f=k=0;s=this.ia;for(e=0;e<l;e++)k=e===l-1?0:k+1,s[e].lat!==s[k].lat&&((a.lat>=s[e].lat&&a.lat< s[k].lat||a.lat>=s[k].lat&&a.lat<s[e].lat)&&a.lng<(s[k].lng-s[e].lng)*(a.lat-s[e].lat)/(s[k].lat-s[e].lat)+s[e].lng)&&f++;b=Math.min(b,0<f%2?0:b)}1<c&&(c=1);1<d&&(c=0);a=i[g-1].y-i[g].y;e=i[g-1].x-(i[g-1].x-i[g].x)*c;f=i[g-1].y-a*c}return{Wa:new S(e,f),Ca:b}},show:function(){hb.prototype.show.call(this);this.draw();this.z.mf===o&&this.$l()},U:function(){hb.prototype.U.call(this);this.z.mf===o&&this.rk()},remove:function(){Wc.prototype.remove.call(this);this.z.mf===o&&this.rk()}}); function bh(a,b){var c={top:0,bottom:0,right:0,left:0,all:0},d=a.x,e=a.y;e<b.eN?(c.top=8,c.all+=c.top):e>b.aN&&(c.bottom=4,c.all+=c.bottom);d>b.$M?(c.right=2,c.all+=c.right):d<b.dN&&(c.left=1,c.all+=c.left);return c} function ah(a,b){if(1>=a.length)return a;var c=a,d=b!==j?b*b:1,e=c.length,f=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(e),g=0,i=e-1,k=[],l=[],m,n,s,u;for(f[g]=f[i]=1;i;){n=0;for(m=g+1;m<i;m++){s=c[m];var w=c[g],y=c[i],B=w.lng,w=w.lat,A=y.lng-B,E=y.lat-w;if(0!==A||0!==E){var C=((s.lng-B)*A+(s.lat-w)*E)/(A*A+E*E);1<C?(B=y.lng,w=y.lat):0<C&&(B+=A*C,w+=E*C)}A=s.lng-B;E=s.lat-w;s=A*A+E*E;s>n&&(u=m,n=s)}n>d&&(f[u]=1,k.push(g,u,u,i));i=k.pop();g=k.pop()}for(m=0;m<e;m++)f[m]&&l.push(c[m]);return l} U(Pf,{show:Pf.show,hide:Pf.U,remove:Pf.remove,setPath:Pf.le,setPositionAt:Pf.qn,setStrokeColor:Pf.setStrokeColor,setStrokeWeight:Pf.aq,setStrokeOpacity:Pf.Zp,setFillOpacity:Pf.$t,setStrokeStyle:Pf.$p,setFillColor:Pf.setFillColor});x.extend(pd.prototype,{initialize:function(a){Yc.prototype.initialize.call(this,a);this.hJ=[0];this.Sr=[0];this.Pl=[0];for(var a=1,b=this.ia,c=b.length;a<c;a++){this.hJ[a]=T.dp(b[a],b[a-1]);var d=T.yb(b[a-1]),e=T.yb(b[a]);this.Sr[a]=90-180*Math.atan2(e.lat-d.lat,e.lng-d.lng)/Math.PI;this.Pl[a]=this.Pl[a-1]+this.hJ[a]}this.dT=this.Pl[c-1];this.Wv();this.Vv={};return this.V},Wv:function(){this.setFillColor("");this.setStrokeColor(this.z.strokeColor);this.aq(this.z.lc);this.$p(this.z.strokeStyle);this.Zp(this.z.sd)}, jr:function(a){var b=this.map,c=[],d=b.Id(),e=this.Id();if(!d.yt(e)||0==a.length||!this.V||!this.oh())return[c];!(G()&&5E3<a.length)&&!this.z.mf&&(d=this.Dm(b.ga()),this.gf[d]?a=this.gf[d]:(e=ah(a,this.Bk(b.ga())),a=this.gf[d]=e));c.push(b.We(a[0]));for(var f=d=1,e=a.length;d<e;d++){var g=b.We(a[d]);g.ab(c[f-1])||(c.push(g),f++)}a=[];d=b.offsetX;e=b.offsetY;f=b.B.mx;b={dN:-d-f,eN:-e-f,$M:-d+f+b.width,aN:-e+f+b.height};d=0;for(e=c.length-1;d<e;d++){var i=c[d],k=c[d+1],f=b,l=g=q,m=q,i=new S(i.x,i.y), k=new S(k.x,k.y),n=bh(i,f),s=bh(k,f),u=j,w=j,y=j,B=f.dN,A=f.eN,E=f.$M,C=f.aN;do 0===n.all&&0===s.all?m=g=o:0!==(n.all&s.all)?m=o:(u=0!==n.all?n:s,u.top?(w=i.x+(k.x-i.x)*(A-i.y)/(k.y-i.y),y=A):u.bottom?(w=i.x+(k.x-i.x)*(C-i.y)/(k.y-i.y),y=C):u.right?(y=i.y+(k.y-i.y)*(E-i.x)/(k.x-i.x),w=E):u.left&&(y=i.y+(k.y-i.y)*(B-i.x)/(k.x-i.x),w=B),l=o,u.all===n.all)?(i.x=Math.round(w),i.y=Math.round(y),n=bh(i,f)):(k.x=Math.round(w),k.y=Math.round(y),s=bh(k,f));while(!m);f=g?{IN:new S(i.x,i.y),JN:new S(k.x,k.y), clip:l?o:q}:j;f&&a.push(f)}c=[[]];d=0;for(e=a.length;d<e;d++)a[d].clip?(c[c.length-1].push(a[d].IN),c[c.length-1].push(a[d].JN),a[d+1]&&a[d+1].clip&&c.push([])):(c[c.length-1].push(a[d].IN),d==a.length-1&&c[c.length-1].push(a[d].JN));return c},hide:function(){Yc.prototype.U.call(this);if(this.z.si&&0<this.z.si.length)for(var a=0,b=this.z.si.length;a<b;a++)this.z.si[a].hide()},show:function(){Yc.prototype.show.call(this);if(this.z.si&&0<this.z.si.length)for(var a=0,b=this.z.si.length;a<b;a++)this.z.si[a].show()}, DR:function(a){var b=this.Ex(),c=b.ga(),d=b.Id();icons=this.z.si;displayPixels=Yc.prototype.jr.call(this,this.ia);if(this.Vv[c]&&0<this.Vv[c].length)this.Zi=this.Vv[c];else{for(var e=[0],f=1,g=displayPixels[0],i=g.length;f<i;f++)e[f]=e[f-1]+Fb(g[f],g[f-1]);this.Zi=this.Vv[c]=e}for(f=0;f<icons.length;f++){var e=icons[f],g=e.N_,k,l;e.Pv[c]&&0<e.Pv[c].length?l=e.Pv[c]:e.Pv[c]=l=e.AQ(this);if(1===l.length)d.qs(l[0].point)&&(e.Vc[0]&&(b.Ub(e.Vc[0]),e.Vc[0].remove()),e.qL||(7===g.Lb||5===g.Lb?g.Yp(-180+ this.Sr[l[0].index]):g.Yp(this.Sr[l[0].index])),e.Vc[0]=new V(l[0].point,{icon:g}),b.Ja(e.Vc[0]));else if(1<l.length){var m=[],n,s={};if(a&&"onzoomend"===a.type){for(var u in e.Vc)b.Ub(e.Vc[u]),e.Vc[u].remove();e.Vc=[]}else x.jc.Eb(e.Vc,function(a){d.qs(a.ha())?(n=""+a.ha().lat+(""+a.ha().lng),s[n]=o,m.push(a)):(b.Ub(a),a.remove())}),e.Vc=m;for(u=0;u<l.length;u++){k=l[u].index;var i=l[u].point,w=""+i.lat+(""+i.lng);d.qs(i)&&!s[w]&&(e.qL||(7===g.Lb||5===g.Lb?g.setRotation(-180+this.Sr[k]):g.setRotation(this.Sr[k])), i=new V(i,{icon:g}),e.Vc.push(i),b.Ja(i))}}}},Lv:function(a){var b=a.currentTarget,c=a.Ag,d=b.index,e=this.Sc,f,g=a=p;if(0==d){var i=Ya(e[d+2].vb,this.map);f=[c,i];a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2);this.mc[d+1]&&this.mc[d+1].U()}else if(d==e.length-1){var k=Ya(e[d-2].vb,this.map);f=[k,c];a=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2);this.mc[d-1]&&this.mc[d-1].U()}else k=e[d-1].vb,i=e[d+1].vb,f=[k,c,i],b.pa||(k=Ya(e[d-2].vb,this.map),i=Ya(e[d+2].vb,this.map),f=[k,c,i],a=new H((k.lng+c.lng)/2,(k.lat+ c.lat)/2),g=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),this.mc[d-1]&&this.mc[d-1].U(),this.mc[d+1]&&this.mc[d+1].U());this.Qa.lj?(this.Qa.lj.le(f),this.Qa.lj.show()):(b=new pd(f,{strokeStyle:"dashed",strokeColor:this.z.strokeColor,lc:this.z.lc,sd:this.z.sd}),this.map.Ja(b),b.U(),this.Qa.lj=b);!this.Qa.Bi&&a?(this.Qa.Bi=new Wg(a,1),this.map.Ja(this.Qa.Bi)):a&&this.Qa.Bi.ta(a);!this.Qa.xi&&g?(this.Qa.xi=new Wg(g,1),this.map.Ja(this.Qa.xi)):g&&this.Qa.xi.ta(g)}}); x.jc.remove=function(a,b){for(var c=a.length;c--;)a[c]===b&&a.splice(c,1);return a};x.extend(ld.prototype,{initialize:function(a){Yc.prototype.initialize.call(this,a);this.setStrokeColor(this.z.strokeColor);this.aq(this.z.lc);this.$p(this.z.strokeStyle);this.setFillColor(this.z.fillColor);this.Zp(this.z.sd);this.$t(this.z.qg);return this.V},qn:function(a,b){this.zo[a]&&(this.gf.length=0,this.zo[a]=new N(b.lng,b.lat),this.ia[a]=new N(b.lng,b.lat),0==a&&!this.ia[0].ab(this.ia[this.ia.length-1])&&(this.ia[this.ia.length-1]=new N(b.lng,b.lat)),this.Jh(),this.z.mf==o&&(this.rk(),this.$l()), this.draw(),this.dispatchEvent(new M("onlineupdate")))},Wv:function(){this.setStrokeColor(this.z.strokeColor);this.aq(this.z.lc);this.$p(this.z.strokeStyle);this.setFillColor(this.z.fillColor);this.Zp(this.z.sd);this.$t(this.z.qg)},containPoint:function(a){var b=this.ia,c=q;if(a instanceof N||a instanceof N){if(this.Xu.qs(a)){for(var d=a.lat,a=a.lng,e=0,f=b.length-1;e<b.length;f=e++){var g=b[e].lat,i=b[e].lng,k=b[f].lat,f=b[f].lng;i>a!=f>a&&d<(k-g)*(a-i)/(f-i)+g&&(c=!c)}return c}return q}},Lv:function(a){var b= a.currentTarget,c=a.point,d=b.index,e=this.Sc,f,g=a=p;if(0==d){var i=eb(e[e.length-2].vb,this.map),k=eb(e[d+2].vb,this.map);f=[i,c,k];b.pa||(a=new N((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new N((k.lng+c.lng)/2,(k.lat+c.lat)/2))}else d==e.length-1?(k=eb(e[2].vb,this.map),i=eb(e[d-2].vb,this.map),f=[i,c,k],b.pa||(a=new N((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new N((k.lng+c.lng)/2,(k.lat+c.lat)/2))):(i=eb(e[d-1].vb,this.map),k=eb(e[d+1].vb,this.map),f=[i,c,k],b.pa||(i=eb(e[d-2].vb,this.map),k=eb(e[d+2].vb, this.map),f=[i,c,k],a=new N((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new N((k.lng+c.lng)/2,(k.lat+c.lat)/2),this.mc[d-1]&&this.mc[d-1].U(),this.mc[d+1]&&this.mc[d+1].U()));this.Qa.lj?this.Qa.lj.le(f):(b=new pd(f,{strokeStyle:"dashed",strokeColor:this.z.strokeColor,lc:this.z.lc,sd:this.z.sd}),this.map.Ja(b),this.Qa.lj=b);!this.Qa.Bi&&a?(this.Qa.Bi=new Wg(a,1),this.map.Ja(this.Qa.Bi)):a&&this.Qa.Bi.ta(a);!this.Qa.xi&&g?(this.Qa.xi=new Wg(g,1),this.map.Ja(this.Qa.xi)):g&&this.Qa.xi.ta(g)}});U(Rf,{setPositionAt:Rf.qn});x.extend(qd.prototype,{initialize:function(a){ld.prototype.initialize.call(this,a);this.ia=this.rv(this.point,this.xa);this.Jh();return this.V},Wf:function(a,b){a&&(this.gf.length=0,b||(this.Sc=p),this.point=a,this.ia=this.rv(a,this.xa),this.Jh(),this.draw(),this.dispatchEvent(new M("onlineupdate")))},wf:function(a,b){isNaN(a)||(this.gf.length=0,b||(this.Sc=p),this.xa=Math.abs(a),this.ia=this.rv(this.point,this.xa),this.Jh(),this.draw(),this.dispatchEvent(new M("onlineupdate")))},Bk:function(a){return this.z.Bk? this.z.Bk(a):qd.dF[this.Dm(a)]},Lv:function(a){var b,a=a.currentTarget,c=this.Sc;b=c[0].vb;c=c[c.length-1].vb;0==a.index?(b=a.ha(),a=c):a=a.ha();this.wf(T.dp(Ya(b,this.map),Ya(a,this.map)),o);this.Wf(b,o)},lB:function(a){var a=a.currentTarget,b=a.index;this.Sc[0]={vb:this.point,pa:0};1==b&&(this.Sc[1]={vb:a.point,pa:0});this.rk();this.$l()},YL:function(){if(!this.Sc){var a=[];a.push({vb:this.point,pa:0});a.push({vb:this.ia[Math.floor(3*this.ia.length/4)],pa:0});this.Sc=a}return this.Sc}}); U(Qf,{setCenter:Qf.Wf,setRadius:Qf.wf});var $g={at:function(a){$g["_"+a.ba]||($g["_"+a.ba]={});switch(a.B.bL){case 1:return $g.UL(a);case 2:return $g.ZL(a);case 3:return $g.RD(a)}if(G()&&$g.yM()&&4!==a.B.bL)return $g.RD(a);if($g.IY())return $g.UL(a);if($g.JY())return $g.ZL(a);if($g.yM())return $g.RD(a)},UL:function(a){$g["_"+a.ba].zJ||($g["_"+a.ba].zJ=new z.TP(a));return $g["_"+a.ba].zJ},ZL:function(a){$g["_"+a.ba].KJ||($g["_"+a.ba].KJ=new z.WP(a));return $g["_"+a.ba].KJ},RD:function(a){$g["_"+a.ba].hH||($g["_"+a.ba].hH=new z.tP(a));return $g["_"+ a.ba].hH},JY:function(){if(Hb($g.DO))return $g.DO;var a=Lb();return $g.DO=a},IY:function(){Hb($g.CO)||($g.CO=Mb());return $g.CO},yM:function(){Hb($g.BO)||($g.BO=Nb());return $g.BO}};z.pq=$g; ');